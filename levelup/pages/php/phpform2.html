<!DOCTYPE HTML>

<html>
	<head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150204435-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150204435-1');
</script>

		<title>Building a simple form with PHP and MySQL</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        
		
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
        <link rel="apple-touch-icon" sizes="180x180" href="../../images/favicon/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="../../images/favicon/android-icon-192x192.png">
        
        <link rel="icon" type="image/png" sizes="96x96" href="../../images/favicon/favicon-96x96.png">
        
        <link rel="manifest" href="../../images/favicon/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="images/favicon/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        
        
        <link rel="stylesheet" href="../../assets/css/main.css" />
        
	</head>
	<style>
        .post p{
            font-size: 20px;
        }
    </style>
	<body class="single is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a style="font-size: 15px;text-transform:lowercase" href="http://lazar-ristic.info" target="_blank">&lt;lristic&gt;</a></h1>
						<nav class="links">
							<ul>
                                
								<li><a href="../html/index.html">HTML<i class="fab fa-html5"></i></a></li>
                                <li><a href="../css/index.html">CSS<i class="fab fa-css3-alt"></i></a></li>
                                <li><a href="../js/index.html">JS<i class="fab fa-js-square"></i></a></li>
                                <li><a href="../php/index.html">PHP<i class="fab fa-php"></i></a></li>
				            </ul>
						</nav>
                       
                        
				

					</header>
				

				<!-- Main -->
					<div id="main">
                        
                        <nav class="links2">
                       <h4 style="text-align: left;">Categories:</h4>
							<ul>
								<li><a href="../html/index.html">HTML<i class="fab fa-html5 ikonice"></i></a></li>
                               
                                <li><a href="../css/index.html">CSS<i class="fab fa-css3-alt ikonice"></i></a></li>
                                
                                <li><a href="../js/index.html">JS<i class="fab fa-js-square ikonice"></i></a></li>
                                
                                <li><a href="../php/index.html">PHP<i class="fab fa-php ikonice"></i></a></li>
                                
				            </ul>
						</nav>

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2>Building a simple form using PHP and MySQL</h2>
                                        <h4>Part 2</h4>
										
									</div>
									<div class="meta">
										<time class="published" datetime="2019-10-16">February 20, 2020</time>
										<a href="http://lazar-ristic.info" target="_blank" class="author"><span class="name">Lazar RistiÄ‡</span><img src="../../images/avatar.jpg" alt="" /></a>
										<i style="font-size: 50px;color:#9275e2" class="fab fa-php"></i>
									</div>
								</header>
                                
                                
								<!---<span class="image featured"><img src="images/pic01.jpg" alt="" /></span>-->
								<p>In the previous article, we managed to set up our local server and build a simple form that only works when exact parameters are filled in. In this article we will list results if only one parameter is filled in.
								</p>
								<p>If everything went well, your form should look like this: </p>
								<img src="../../images/form2.png" style="max-width: 100%;height: auto;">
								<br><br>
                                   <p>Before we start, we will need to clean up the PHP code at the top, because we will build our query. You should delete everything in the <b>try</b> block execept for <code>$connection = new PDO($dsn, $username, $password, $options)</code>. Under it, you can initialize variables to empty strings, which we'll later change. So, <code>$location = "", $price = "", $size = "";</code> </p>
                                   
                                   <p>The idea here is to build our SQL query depending on what was inputted. Before deleting, our query was <code>SELECT * FROM houses WHERE location = :location AND price = :price AND size = :size</code>. So here we assumed that the user will input all three of the parameters.</p>
                                   <p>We will change that by changing the query to: <code>$sql = "SELECT * FROM houses WHERE";</code>, and the rest of the query will depend on our parameters. For example, if location is inputted then we add <code>location = :location</code> to the query. Then, when checking for price, we first check if location is already set and if it is, then we add <code>AND price = :price</code> and if location isn't set, then we add <code>price = :price</code>.</p>
                                   <p>We begin with location. First, we check if the location is posted and if that posted value is not an empty string. So under our <code>$sql = "SELECT * FROM houses WHERE";</code>, we check <code>if(isset($_POST['location']) && $_POST['location'] != ""){}</code>. Inside the if block, we will assign the POST value to the variable: <code>$location = $_POST['location'];</code>. Now for the SQL query; Since our location has been inputted, we change our query by adding <code>" location = :location"</code> to it, like this: <code>$sql = $sql . " location = :location";</code>. The dot is an append operation in PHP, which puts two or more string together. So now our query looks like this: <code>$sql = "SELECT * FROM houses WHERE location = :location.";</code>. <b>One important thing, don't forget to put space before <code>location = :location</code>, or your query will look like this <code>"SELECT * FROM houses WHERElocation = :location"</code> and that will give you an SQL syntax error.</b></p>
                                   <p>Ok, that was it for the location, so your code should look like this: </p>
                                   <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #557799">&lt;?php</span>
    <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;submit&#39;</span>])){
        <span style="color: #008800; font-weight: bold">try</span>{
            <span style="color: #008800; font-weight: bold">require</span> <span style="background-color: #fff0f0">&quot;config.php&quot;</span>;
            
            <span style="color: #996633">$connection</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> PDO(<span style="color: #996633">$dsn</span>, <span style="color: #996633">$username</span>, <span style="color: #996633">$password</span>, <span style="color: #996633">$options</span>);
            
            <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">"";</span>
            <span style="color: #996633">$price</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">"";</span>
            <span style="color: #996633">$size</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">"";</span>
            
            <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;SELECT *</span>
<span style="background-color: #fff0f0">                    FROM houses</span>
<span style="background-color: #fff0f0">                    WHERE&quot;</span>;
                        
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>];
                <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; location = :location&quot;</span>;
            }
            
            
        }<span style="color: #008800; font-weight: bold">catch</span>(PDOException <span style="color: #996633">$error</span>){
            <span style="color: #008800; font-weight: bold">echo</span> <span style="color: #996633">$error</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">getMessage</span>();
        }
    }

<span style="color: #557799">?&gt;</span>
</pre></td></tr></table></div>

                              <br>
                                <p>Now, we will do the same for the price, except that we will also check if <code>$location</code> is an empty string, because if it is, then our SQL query wasn't changed and we should now add the price to it.</p>
                                <p>So, <code>if(isset($_POST['price']) && $_POST['price'])</code> and inside it we assign the value to the variable: <code>$price = $_POST['price'];</code> and under it we check for location variable <code>if($location != "")</code>. Inside the if block we put <code>$sql = $sql . " AND price = :price";</code> (our SQL query will be <code>$sql = "SELECT * FROM houses WHERE location = :location AND price = :price"</code>) and in the else block we put <code>$sql = $sql . " price = :price"</code> (our SQL query will be <code>$sql = "SELECT * FROM houses WHERE price = :price";</code>). As you can see, only difference is the AND keyword. We have it when the location isn't set, that is, price is not the first parameter that was inputted. </p>
                                <p>So now, our code should look like this: </p>
                                
                                <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #557799">&lt;?php</span>
    <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;submit&#39;</span>])){
        <span style="color: #008800; font-weight: bold">try</span>{
            <span style="color: #008800; font-weight: bold">require</span> <span style="background-color: #fff0f0">&quot;config.php&quot;</span>;
            
            <span style="color: #996633">$connection</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> PDO(<span style="color: #996633">$dsn</span>, <span style="color: #996633">$username</span>, <span style="color: #996633">$password</span>, <span style="color: #996633">$options</span>);
            
            <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;SELECT *</span>
<span style="background-color: #fff0f0">                    FROM houses</span>
<span style="background-color: #fff0f0">                    WHERE&quot;</span>;
                        
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>];
                <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; location = :location&quot;</span>;
            }
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$price</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>];
                <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; AND price = :price&quot;</span>;
                }<span style="color: #008800; font-weight: bold">else</span>{
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;price = :price&quot;</span>;
                }
            }
            
            
        }<span style="color: #008800; font-weight: bold">catch</span>(PDOException <span style="color: #996633">$error</span>){
            <span style="color: #008800; font-weight: bold">echo</span> <span style="color: #996633">$error</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">getMessage</span>();
        }
    }

<span style="color: #557799">?&gt;</span>
</pre></td></tr></table></div>

                              
                              <br>
                               <p>Finally, for our size paramater, everything will be the same as the price paramater, except we will here check for <code>$price</code> variable too, not just <code>$location</code>:</p>
                               
                               <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #557799">&lt;?php</span>
    <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;submit&#39;</span>])){
        <span style="color: #008800; font-weight: bold">try</span>{
            <span style="color: #008800; font-weight: bold">require</span> <span style="background-color: #fff0f0">&quot;config.php&quot;</span>;
            
            <span style="color: #996633">$connection</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> PDO(<span style="color: #996633">$dsn</span>, <span style="color: #996633">$username</span>, <span style="color: #996633">$password</span>, <span style="color: #996633">$options</span>);
            
            <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;SELECT *</span>
<span style="background-color: #fff0f0">                    FROM houses</span>
<span style="background-color: #fff0f0">                    WHERE&quot;</span>;
                        
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>];
                <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; location = :location&quot;</span>;
            }
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$price</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>];
                <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; AND price = :price&quot;</span>;
                }<span style="color: #008800; font-weight: bold">else</span>{
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;price = :price&quot;</span>;
                }
            }
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$size</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>];
                <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span> <span style="color: #333333">||</span> <span style="color: #996633">$price</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; AND size = :size&quot;</span>;
                }<span style="color: #008800; font-weight: bold">else</span>{
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; size = :size&quot;</span>;
                }
            }
            
            
        }<span style="color: #008800; font-weight: bold">catch</span>(PDOException <span style="color: #996633">$error</span>){
            <span style="color: #008800; font-weight: bold">echo</span> <span style="color: #996633">$error</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">getMessage</span>();
        }
    }

<span style="color: #557799">?&gt;</span>
</pre></td></tr></table></div>

                              <br>
                              
                                <p>Ok, now we have our SQL query ready. Under all these if blocks you can <code>echo $sql;</code> if you want to see how the query looks like.</p>
                                
                                <p>Now we have to bind the parameters that are in the SQL query. In the first part we knew that we had to bind all three of them because the query was straightforward, but now we will check which variable is not an empty string and depending on that, we will bind. Before binding, we prepare the statement with <code>$statement = $connection->prepare($sql);</code>. Binding: </p>
                                
                                <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td><pre style="margin: 0; line-height: 125%">$statement = $connection-&gt;prepare($sql);
            
            
            if($location != &quot;&quot;){
                $statement-&gt;bindParam(&quot;:location&quot;, $location, PDO::PARAM_STR);
            }
            if($price != &quot;&quot;){
                $statement-&gt;bindParam(&quot;:price&quot;, $price, PDO::PARAM_STR);
            }
            if($size != &quot;&quot;){
                $statement-&gt;bindParam(&quot;:size&quot;, $size, PDO::PARAM_STR);
            }
            
</pre></td></tr></table></div>

                              <br>
                              <p>After that, all we have to do is execute the query and fetch the results: <code>$statement->execute();</code> <br><code>$result = $statement->fetchAll();</code>.</p>
                              
                              <p>Finally, your code should look like this:</p>
                              
                              <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #557799">&lt;?php</span>
    <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;submit&#39;</span>])){
        <span style="color: #008800; font-weight: bold">try</span>{
            <span style="color: #008800; font-weight: bold">require</span> <span style="background-color: #fff0f0">&quot;config.php&quot;</span>;
            
            <span style="color: #996633">$connection</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> PDO(<span style="color: #996633">$dsn</span>, <span style="color: #996633">$username</span>, <span style="color: #996633">$password</span>, <span style="color: #996633">$options</span>);
            
            <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;SELECT *</span>
<span style="background-color: #fff0f0">                    FROM houses</span>
<span style="background-color: #fff0f0">                    WHERE&quot;</span>;
            
            <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>;
            <span style="color: #996633">$size</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>;
            <span style="color: #996633">$price</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>;
                        
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$location</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>];
                <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; location = :location&quot;</span>;
            }
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$price</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>];
                <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; AND price = :price&quot;</span>;
                }<span style="color: #008800; font-weight: bold">else</span>{
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;price = :price&quot;</span>;
                }
            }
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>]) <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$size</span> <span style="color: #333333">=</span> <span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>];
                <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span> <span style="color: #333333">||</span> <span style="color: #996633">$price</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; AND size = :size&quot;</span>;
                }<span style="color: #008800; font-weight: bold">else</span>{
                    <span style="color: #996633">$sql</span> <span style="color: #333333">=</span> <span style="color: #996633">$sql</span> <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot; size = :size&quot;</span>;
                }
            }
            
            
            <span style="color: #996633">$statement</span> <span style="color: #333333">=</span> <span style="color: #996633">$connection</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">prepare</span>(<span style="color: #996633">$sql</span>);
            
            
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$location</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">bindParam</span>(<span style="background-color: #fff0f0">&quot;:location&quot;</span>, <span style="color: #996633">$location</span>, PDO<span style="color: #333333">::</span><span style="color: #0000CC">PARAM_STR</span>);
            }
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$price</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">bindParam</span>(<span style="background-color: #fff0f0">&quot;:price&quot;</span>, <span style="color: #996633">$price</span>, PDO<span style="color: #333333">::</span><span style="color: #0000CC">PARAM_STR</span>);
            }
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$size</span> <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>){
                <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">bindParam</span>(<span style="background-color: #fff0f0">&quot;:size&quot;</span>, <span style="color: #996633">$size</span>, PDO<span style="color: #333333">::</span><span style="color: #0000CC">PARAM_STR</span>);
            }
            
            <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">execute</span>();
        
            <span style="color: #996633">$result</span> <span style="color: #333333">=</span> <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">fetchAll</span>();
            
        }<span style="color: #008800; font-weight: bold">catch</span>(PDOException <span style="color: #996633">$error</span>){
            <span style="color: #008800; font-weight: bold">echo</span> <span style="color: #996633">$error</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">getMessage</span>();
        }
    }

<span style="color: #557799">?&gt;</span>

<span style="color: #557799">&lt;!DOCTYPE html&gt;</span>
<span style="color: #007700">&lt;html&gt;</span>
<span style="color: #007700">&lt;head&gt;</span>
<span style="color: #007700">&lt;title&gt;</span>Basic form<span style="color: #007700">&lt;/title&gt;</span>
<span style="color: #007700">&lt;/head&gt;</span>
<span style="color: #007700">&lt;body&gt;</span>

<span style="color: #007700">&lt;h2&gt;</span>Simple PHP form<span style="color: #007700">&lt;/h2&gt;</span>    

<span style="color: #007700">&lt;form</span> <span style="color: #0000CC">method=</span><span style="background-color: #fff0f0">&quot;post&quot;</span><span style="color: #007700">&gt;</span>
    <span style="color: #007700">&lt;label</span> <span style="color: #0000CC">for=</span><span style="background-color: #fff0f0">&quot;location&quot;</span><span style="color: #007700">&gt;</span>Location:<span style="color: #007700">&lt;/label&gt;</span>
    <span style="color: #007700">&lt;input</span> <span style="color: #0000CC">type=</span><span style="background-color: #fff0f0">&quot;text&quot;</span> <span style="color: #0000CC">name=</span><span style="background-color: #fff0f0">&quot;location&quot;</span> <span style="color: #0000CC">id=</span><span style="background-color: #fff0f0">&quot;location&quot;</span><span style="color: #007700">&gt;</span> <span style="color: #007700">&lt;br&gt;</span>

    <span style="color: #007700">&lt;label</span> <span style="color: #0000CC">for=</span><span style="background-color: #fff0f0">&quot;price&quot;</span><span style="color: #007700">&gt;</span>Price:<span style="color: #007700">&lt;/label&gt;</span>
    <span style="color: #007700">&lt;input</span> <span style="color: #0000CC">type=</span><span style="background-color: #fff0f0">&quot;text&quot;</span> <span style="color: #0000CC">name=</span><span style="background-color: #fff0f0">&quot;price&quot;</span> <span style="color: #0000CC">id=</span><span style="background-color: #fff0f0">&quot;price&quot;</span><span style="color: #007700">&gt;&lt;br&gt;</span>

    <span style="color: #007700">&lt;label</span> <span style="color: #0000CC">for=</span><span style="background-color: #fff0f0">&quot;size&quot;</span><span style="color: #007700">&gt;</span>Size:<span style="color: #007700">&lt;/label&gt;</span>
    <span style="color: #007700">&lt;input</span> <span style="color: #0000CC">type=</span><span style="background-color: #fff0f0">&quot;text&quot;</span> <span style="color: #0000CC">name=</span><span style="background-color: #fff0f0">&quot;size&quot;</span> <span style="color: #0000CC">id=</span><span style="background-color: #fff0f0">&quot;size&quot;</span><span style="color: #007700">&gt;&lt;br&gt;</span>

    <span style="color: #007700">&lt;input</span> <span style="color: #0000CC">type=</span><span style="background-color: #fff0f0">&quot;submit&quot;</span> <span style="color: #0000CC">name=</span><span style="background-color: #fff0f0">&quot;submit&quot;</span> <span style="color: #0000CC">value=</span><span style="background-color: #fff0f0">&quot;Submit&quot;</span><span style="color: #007700">&gt;</span>

<span style="color: #007700">&lt;/form&gt;</span>
    
    <span style="color: #557799">&lt;?php</span>
        <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #007020">isset</span>(<span style="color: #996633">$_POST</span>[<span style="background-color: #fff0f0">&#39;submit&#39;</span>])){
            <span style="color: #008800; font-weight: bold">if</span>(<span style="color: #996633">$result</span> <span style="color: #333333">&amp;&amp;</span> <span style="color: #996633">$statement</span><span style="color: #333333">-&gt;</span><span style="color: #0000CC">rowCount</span>() <span style="color: #333333">&gt;</span> <span style="color: #0000DD; font-weight: bold">0</span>){<span style="color: #557799">?&gt;</span>
                <span style="color: #007700">&lt;h2&gt;</span>Available houses:<span style="color: #007700">&lt;/h2&gt;</span>
        <span style="color: #557799">&lt;?php</span> 
            <span style="color: #008800; font-weight: bold">foreach</span>(<span style="color: #996633">$result</span> <span style="color: #008800; font-weight: bold">as</span> <span style="color: #996633">$row</span>){
                <span style="color: #008800; font-weight: bold">echo</span> <span style="background-color: #fff0f0">&quot;Location: &quot;</span> <span style="color: #333333">.</span> <span style="color: #996633">$row</span>[<span style="background-color: #fff0f0">&#39;location&#39;</span>] <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;&lt;br&gt;&quot;</span>;
                <span style="color: #008800; font-weight: bold">echo</span> <span style="background-color: #fff0f0">&quot;Price: &quot;</span> <span style="color: #333333">.</span> <span style="color: #996633">$row</span>[<span style="background-color: #fff0f0">&#39;price&#39;</span>] <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;&lt;br&gt;&quot;</span>;
                <span style="color: #008800; font-weight: bold">echo</span> <span style="background-color: #fff0f0">&quot;Size: &quot;</span> <span style="color: #333333">.</span> <span style="color: #996633">$row</span>[<span style="background-color: #fff0f0">&#39;size&#39;</span>] <span style="color: #333333">.</span> <span style="background-color: #fff0f0">&quot;&lt;br&gt;&quot;</span>;
            }
        
            }
        }
    <span style="color: #557799">?&gt;</span>

<span style="color: #007700">&lt;/body&gt;</span>
<span style="color: #007700">&lt;/html&gt;</span>
</pre></td></tr></table></div>

                              
                              <br>
                              
                              <p>If you input only one parameter and press Submit you should get the result if there is one (in our case, for example price -> 500). <br>
                              That is all for this part :)</p>
                              <br>            
                              
                              <b><p>Building a simple form with PHP and SQL: <a style="font-size: 25px;" href="../php/phpform.html">Part 1</a>, <a style="font-size: 25px;" href="../php/phpform3.html">Part 3</a></p></b>
                              
                              <br><br>
                               
                               
                               
                                <p style="font-size: 25px;">Thank you for reading, hope this article was useful. :)</p>
                                <a href='https://ko-fi.com/V7V415UJ3' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi5.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>
                                
							</article>
							
							
							
							<h6 style="font-weight: 600;">You can also check out some of my other articles: </h6>
                    <div class="row">
                    <section class="col-md-4">
							<div class="mini-posts" >
                                    
										<article class="mini-post">
											<header>
												<h3><a href="brackets.html">Brackets - a perfect IDE for beginners</a></h3>
												<time class="published" datetime="2020-02-11">October, 2019</time>
												<a href="#" class="author"><img src="../../images/avatar.jpg" alt="" /></a>
											</header>
																						<a href="../../brackets.html" class="image"><img src="../../images/brackets-cover.png" alt="" /></a>

										</article>
                                    
								</div>
                        </section>
                        <section class="col-md-4">
							<div class="mini-posts" >
                                    
										<article class="mini-post">
											<header>
												<h3><a href="flickity.html">Flickity - building an easy swiping carousel gallery</a></h3>
												<time class="published" datetime="2020-02-11">February, 2019</time>
												<a href="#" class="author"><img src="../../images/avatar.jpg" alt="" /></a>
											</header>
																						<a href="../css/flickity.html" class="image"><img src="../../images/flickity.png" alt="" /></a>

										</article>
                                    
								</div>
                        </section>
					</div>

					</div>

				<!-- Footer -->
					<section id="footer">
						<ul class="icons" style="font-size: 35px;">
							<li><a style="color: #4267B2;" href="https://www.facebook.com/lristic" target="_blank" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
									<li><a style="color:#E1306C" href="instagram.com/lristic13" target="_blank" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                                    <li><a style="color: #0072b1" href="https://www.linkedin.com/in/lristic/" class="icon brands fa-linkedin" target="_blank"><span class="label">LinkedIn</span></a></li>
						</ul>
								<p style="font-size: 20px;" class="copyright">&copy; Level up 2020.</p>

					</section>

			</div>

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<script src="../../assets/js/browser.min.js"></script>
			<script src="../../assets/js/breakpoints.min.js"></script>
			<script src="../../assets/js/util.js"></script>
			<script src="../../assets/js/main.js"></script>

	</body>
</html>